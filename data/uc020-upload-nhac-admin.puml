@startuml UC020-Upload-Nhac-Admin
!theme plain
title UC020 - Upload Nh·∫°c M·ªõi (Admin)

skinparam rectangle {
    BackgroundColor lightblue
    BorderColor blue
}

skinparam frame {
    BackgroundColor lightgray
    BorderColor black
}

rectangle "Admin - Upload Nh·∫°c M·ªõi" {
    frame "Page Header" as header {
        rectangle "üéµ Qu·∫£n L√Ω Nh·∫°c" as page_title
        rectangle "üë®‚Äçüíº Admin Panel" as admin_badge #lightgreen
        rectangle "‚Ü©Ô∏è Back to Music List" as back_btn
    }

    frame "File Upload Section" as upload_section {
        rectangle "üéµ Audio File Upload *" as audio_upload #lightgreen
        rectangle "üìÅ Drag & Drop MP3/FLAC/WAV" as drag_audio
        rectangle "üñ±Ô∏è Browse Audio Files" as browse_audio
        rectangle "‚úÖ Max Size: 50MB" as audio_limit
        rectangle "üìä Upload Progress: 75%" as upload_progress #yellow
    }

    frame "Song Metadata Form" as metadata {
        rectangle "üéµ T√™n B√†i H√°t *" as song_title #lightgreen
        rectangle "üë§ Ngh·ªá Sƒ© *" as artist_name #lightgreen
        rectangle "üíø Album" as album_name
        rectangle "üè∑Ô∏è Th·ªÉ Lo·∫°i *" as genre_select #lightgreen
        rectangle "üìÖ NƒÉm Ph√°t H√†nh" as release_year
        rectangle "üìù M√¥ T·∫£" as song_description
    }

    frame "Cover Image Upload" as cover_section {
        rectangle "üñºÔ∏è ·∫¢nh B√¨a" as cover_upload
        rectangle "üìÅ Upload JPG/PNG" as cover_drag
        rectangle "üëÅÔ∏è Preview 300x300" as cover_preview #lightyellow
        rectangle "‚úÇÔ∏è Auto Crop & Resize" as auto_resize
    }

    frame "Category & Tags" as categorization {
        rectangle "üÜï New Music" as new_music_tag
        rectangle "üî• Trending" as trending_tag
        rectangle "üìà Top View" as top_view_tag
        rectangle "üéº VN LoFi" as vn_lofi_tag
        rectangle "‚≠ê Featured" as featured_tag
    }

    frame "Audio Processing" as processing {
        rectangle "üîä Audio Quality Check" as quality_check
        rectangle "‚è±Ô∏è Duration: Auto Detect" as duration_detect
        rectangle "üéõÔ∏è Bitrate: 320kbps" as bitrate_info
        rectangle "üîâ Volume Normalization" as normalize
        rectangle "üéµ Waveform Generation" as waveform
    }

    frame "Validation & Errors" as validation {
        rectangle "‚úÖ All Fields Valid" as all_valid #lightgreen
        rectangle "‚ùå Missing Required Fields" as missing_fields #lightcoral
        rectangle "‚ùå Invalid Audio Format" as invalid_audio #lightcoral
        rectangle "‚ùå Duplicate Song Detected" as duplicate_song #orange
        rectangle "‚ö†Ô∏è Large File Warning" as large_file #yellow
    }

    frame "Action Buttons" as actions {
        rectangle "üíæ Save as Draft" as save_draft
        rectangle "üëÅÔ∏è Preview" as preview_btn
        rectangle "üöÄ Publish Song" as publish_btn #lightgreen
        rectangle "üö´ Cancel" as cancel_btn
    }

    frame "Success State" as success {
        rectangle "üéâ Upload Successful!" as success_msg #lightgreen
        rectangle "üéµ Song: 'New Song Title'" as uploaded_song
        rectangle "üîó Song ID: #12345" as song_id
        rectangle "üëÄ View Song" as view_song
        rectangle "‚ûï Upload Another" as upload_another
    }
}

' Flow connections
audio_upload --> drag_audio
drag_audio --> upload_progress
upload_progress --> quality_check

song_title --> artist_name
artist_name --> genre_select
genre_select --> cover_upload

cover_upload --> cover_preview
cover_preview --> auto_resize

quality_check --> duration_detect
duration_detect --> waveform

all_valid --> publish_btn
missing_fields --> song_title : "Fix Errors"
invalid_audio --> audio_upload : "Re-upload"

publish_btn --> success_msg
success_msg --> view_song
success_msg --> upload_another

preview_btn ..> "Preview Player" : "Test Playback"
save_draft ..> "Saved to Drafts" : "Save Progress"

footer UC020 - Upload Nh·∫°c: Admin interface upload v√† publish nh·∫°c m·ªõi
@enduml
