@startuml UC007-Nghe-Nhac
!theme plain
title UC007 - Nghe Nháº¡c

skinparam rectangle {
    BackgroundColor lightblue
    BorderColor blue
}

skinparam frame {
    BackgroundColor lightgray
    BorderColor black
}

rectangle "Coconut Music Player" {
    frame "Song Info Display" as song_info {
        rectangle "ðŸŽµ TÃªn BÃ i HÃ¡t" as song_title #lightgreen
        rectangle "ðŸ‘¤ Nghá»‡ SÄ©" as artist_name
        rectangle "ðŸ’¿ Album" as album_name
        rectangle "ðŸ–¼ï¸ Album Art (300x300)" as album_art #lightyellow
    }

    frame "Player Controls" as controls {
        rectangle "â®ï¸ Previous" as prev_btn
        rectangle "â¯ï¸ Play/Pause" as play_btn #lightgreen
        rectangle "â­ï¸ Next" as next_btn
        rectangle "ðŸ”€ Shuffle" as shuffle_btn
        rectangle "ðŸ” Repeat" as repeat_btn
    }

    frame "Progress & Time" as progress {
        rectangle "â° 00:00" as current_time
        rectangle "â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘ Progress Bar" as progress_bar #lightblue
        rectangle "â° 03:45" as total_time
        rectangle "ðŸ“Š Buffer Indicator" as buffer
    }

    frame "Volume Control" as volume {
        rectangle "ðŸ”Š Volume Icon" as volume_icon
        rectangle "â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘ Volume Bar" as volume_bar
        rectangle "ðŸ”‡ Mute Toggle" as mute_btn
    }

    frame "Additional Features" as features {
        rectangle "â¤ï¸ Add to Favorites" as favorite_btn
        rectangle "âž• Add to Playlist" as playlist_btn
        rectangle "ðŸ“¤ Share Song" as share_btn
        rectangle "ðŸ“ Show Lyrics" as lyrics_btn
    }

    frame "Queue Management" as queue {
        rectangle "ðŸ“‹ Current Queue" as current_queue
        rectangle "ðŸ”¢ Track Position: 3/15" as track_position
        rectangle "â­ï¸ Up Next Preview" as up_next
    }

    frame "Audio States" as states {
        rectangle "â³ Loading..." as loading #yellow
        rectangle "â–¶ï¸ Playing" as playing #lightgreen
        rectangle "â¸ï¸ Paused" as paused #lightyellow
        rectangle "âŒ Error Loading" as error #lightcoral
        rectangle "ðŸ“¶ Buffering..." as buffering #orange
    }
}

' Flow connections
song_title --> artist_name
artist_name --> album_art
album_art --> play_btn

play_btn --> playing : "Click Play"
playing --> paused : "Click Pause"
paused --> playing : "Click Play"

current_time --> progress_bar
progress_bar --> total_time
progress_bar --> buffer

volume_icon --> volume_bar
volume_bar --> mute_btn

favorite_btn ..> "â¤ï¸ Added to Favorites" : "Toggle"
playlist_btn ..> "Playlist Selection Modal" : "UC016"

' Error handling
loading --> error : "Network Error"
error --> loading : "Retry"

footer UC007 - Nghe Nháº¡c: Giao diá»‡n phÃ¡t nháº¡c vá»›i Ä‘áº§y Ä‘á»§ controls
@enduml
