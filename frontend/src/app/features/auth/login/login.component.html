<div class="auth-container">
	<div class="auth-card">
		<div class="auth-header">
			<div class="logo">
				<i class="fas fa-music"></i>
				<h1>Coconut Music</h1>
			</div>
			<h2>Welcome Back</h2>
			<p>Sign in to continue your musical journey</p>
		</div>

		<form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="auth-form">
			<div class="form-group">
				<label for="usernameOrEmail">
					<i class="fas fa-user"></i>
					Username or Email
				</label>
				<input
					type="text"
					id="usernameOrEmail"
					name="usernameOrEmail"
					class="form-control"
					[(ngModel)]="loginData.usernameOrEmail"
					required
					placeholder="Enter your username or email"
					[disabled]="isLoading"
				/>
			</div>

			<div class="form-group">
				<label for="password">
					<i class="fas fa-lock"></i>
					Password
				</label>
				<div class="password-input">
					<input
						[type]="showPassword ? 'text' : 'password'"
						id="password"
						name="password"
						class="form-control"
						[(ngModel)]="loginData.password"
						required
						placeholder="Enter your password"
						[disabled]="isLoading"
					/>
					<button
						type="button"
						class="password-toggle"
						(click)="togglePassword()"
						[disabled]="isLoading"
					>
						<i
							[class]="
								showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'
							"
						></i>
					</button>
				</div>
			</div>
			<div class="form-options">
				<label class="checkbox-label">
					<input
						type="checkbox"
						[(ngModel)]="rememberMe"
						name="rememberMe"
						[disabled]="isLoading"
					/>
					<span class="checkmark">
						<i class="fas fa-check"></i>
					</span>
					Remember me
				</label>
				<a href="#" class="forgot-password">
					<i class="fas fa-key"></i>
					Forgot password?
				</a>
			</div>
			<div *ngIf="successMessage" class="success-alert">
				<i class="fas fa-check-circle"></i>
				{{ successMessage }}
			</div>

			<div *ngIf="errorMessage" class="error-alert">
				<i class="fas fa-exclamation-triangle"></i>
				{{ errorMessage }}
			</div>

			<button
				type="submit"
				class="btn btn-primary"
				[disabled]="!loginForm.valid || isLoading"
			>
				<span *ngIf="isLoading" class="loading-spinner">
					<i class="fas fa-spinner fa-spin"></i>
				</span>
				<span *ngIf="!isLoading">
					<i class="fas fa-sign-in-alt"></i>
				</span>
				{{ isLoading ? 'Signing in...' : 'Sign In' }}
			</button>
		</form>

		<div class="auth-footer">
			<p>
				Don't have an account?
				<a routerLink="/auth/register">
					<i class="fas fa-user-plus"></i>
					Create one here
				</a>
			</p>
		</div>

		<div class="social-login">
			<div class="divider">
				<span>or sign in with</span>
			</div>
			<div class="social-buttons">
				<button
					class="social-btn google-btn"
					(click)="signInWithGoogle()"
				>
					<i class="fab fa-google"></i>
					Google
				</button>
				<button
					class="social-btn facebook-btn"
					(click)="signInWithFacebook()"
				>
					<i class="fab fa-facebook-f"></i>
					Facebook
				</button>
			</div>
		</div>
	</div>
</div>
